<GameCard@MDCard>:
    size_hint: 0.4, 0.5   # 40% Breite, 50% Höhe des Eltern-Layouts
    radius: [16, 16, 16, 16]
    md_bg_color: 0, 0, 0, 0
    elevation: 1
    padding: dp(12)
    orientation: 'vertical'
    ripple_behavior: True
    available: True

    canvas.before:

        # Hintergrundfarbe der Karte    
        Color:
            rgba: root.card_color
        RoundedRectangle:
            pos: self.pos
            size: self.size
            radius: self.radius

        # Hintergrundbild
        Color:
            rgba: 1, 1, 1, 1
        RoundedRectangle:
            texture: root.bg_texture
            pos: self.pos
            size: self.size
            radius: self.radius

        # Grauer Overlay, wenn nicht verfügbar
        Color:
            rgba: (0.3, 0.3, 0.3, 0.6) if not root.available else (0, 0, 0, 0)
        RoundedRectangle:
            texture: root.bg_texture
            pos: self.x + dp(1), self.y + dp(1)
            size: self.width - dp(2), self.height - dp(2)
            radius: self.radius
        
        # Weißer Rand
        Color:
            rgba: 1, 1, 1, 1   # Weiß
        Line:
            rounded_rectangle: (self.x, self.y, self.width, self.height, 16, 16, 16, 16, 100)
            width: 4   # Randstärke

    BoxLayout:
        orientation: 'vertical'
        spacing: dp(8)
        size_hint_y: 1

        Widget:
            size_hint_y: 0.2
        # Icon für Card
        BoxLayout:
            orientation: "vertical"
            size_hint: None, None
            size: self.minimum_size
            pos_hint: {"center_x": 0.5}

            MDIcon:
                icon: root.icon
                theme_text_color: "Custom"
                text_color: root.icon_color
                font_size: "40sp"
                opacity: 1 if not root.available else 0

        Widget:
            size_hint_y: 0.3

        MDBoxLayout:
            size_hint_y: None
            height: self.minimum_height
            md_bg_color: 0, 0, 0, 0.35
            radius: [12, 12, 12, 12]
            padding: dp(6)
            MDLabel:
                text: root.title
                halign: "center"
                font_style: "H6"
                theme_text_color: "Custom"
                text_color: root.text_color
                size_hint_y: None
                height: self.texture_size[1]
